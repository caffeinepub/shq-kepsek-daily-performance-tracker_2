{
  "schemaVersion": "1.0.0",
  "projectStateVersion": 7,
  "summary": "Web app 'SHQ Kepsek Daily Performance Tracker' with two access levels (Direktur/Manajemen and Kepala Sekolah) to track daily school operational performance via a daily form and automatic 100-point weighted scoring, presented via admin monitoring tables, rankings, and performance charts plus a mobile-friendly user form UI.",
  "architectural_notes": [
    "Scoring is automatic on every daily form submission; total score max 100 with five equal-weight categories (20 points each).",
    "Color indicator rule: green for high score, red for not yet submitted today."
  ],
  "known_issues": [],
  "isFixRequest": false,
  "existing_features": [
    {
      "id": "feature-implement-authentication-and-role-based-access-with-two-roles-director-management-admin-and-principal-kepsek-users-must-sign-in-using-internet-identity-and-the-app-must-route-users-to-the-correct-dashboard-based-on-their-assigned-role",
      "title": "Implement authentication and role-based access with two roles: Director/Management (Admin) and Principal (Kepsek). Users must sign in using Internet Identity, and the app must route users to the correct dashboard based on their assigned role.",
      "reqIds": [
        "REQ-1"
      ],
      "version": 1
    },
    {
      "id": "feature-implement-the-daily-kepsek-form-ui-mobile-friendly-that-allows-a-kepsek-to-submit-attendance-photo-upload-arrival-time-departure-time-class-control-report-checklist-and-or-description-teacher-control-report-parent-guardian-wali-santri-response-report-and-school-program-problem-solving-report",
      "title": "Implement the daily Kepsek form UI (mobile-friendly) that allows a Kepsek to submit: attendance (photo upload, arrival time, departure time), class control report (checklist and/or description), teacher control report, parent/guardian (wali santri) response report, and school program & problem-solving report.",
      "reqIds": [
        "REQ-3"
      ],
      "version": 1
    },
    {
      "id": "feature-build-the-admin-director-management-dashboard-with-1-summary-statistics-active-schools-count-number-of-kepsek-who-submitted-today-2-monitoring-table-listing-kepsek-with-today-s-score-and-a-ranking-sorted-by-highest-score-3-detail-drill-down-to-view-an-individual-kepsek-s-daily-report-contents-including-the-attendance-photo-and-4-basic-filtering-by-date-at-least-today-and-a-selectable-date",
      "title": "Build the Admin (Director/Management) dashboard with: (1) summary statistics (active schools count; number of Kepsek who submitted today), (2) monitoring table listing Kepsek with today’s score and a ranking sorted by highest score, (3) detail drill-down to view an individual Kepsek’s daily report contents including the attendance photo, and (4) basic filtering by date (at least today and a selectable date).",
      "reqIds": [
        "REQ-5"
      ],
      "version": 1
    },
    {
      "id": "feature-add-admin-analytics-charts-1-a-line-chart-showing-overall-daily-performance-trend-across-dates-aggregate-across-all-schools-and-2-a-pie-or-bar-chart-showing-aggregate-percentages-for-class-control-teacher-control-and-program-running-based-on-whether-each-category-was-completed-in-submitted-reports",
      "title": "Add Admin analytics charts: (1) a line chart showing overall daily performance trend across dates (aggregate across all schools), and (2) a pie or bar chart showing aggregate percentages for Class Control, Teacher Control, and Program Running (based on whether each category was completed in submitted reports).",
      "reqIds": [
        "REQ-6"
      ],
      "version": 1
    },
    {
      "id": "feature-apply-a-clean-professional-mobile-first-visual-theme-with-consistent-typography-spacing-and-component-styling-use-high-contrast-performance-indicators-green-for-high-scores-and-red-for-not-submitted-not-filled-statuses",
      "title": "Apply a clean, professional, mobile-first visual theme with consistent typography, spacing, and component styling. Use high-contrast performance indicators: green for high scores and red for not submitted/not filled statuses.",
      "reqIds": [
        "REQ-7"
      ],
      "version": 1
    },
    {
      "id": "feature-provide-basic-admin-managed-setup-to-register-manage-kepsek-profiles-and-their-associated-schools-school-name-region-principal-name-active-status-so-the-system-can-compute-active-schools-and-associate-submissions-with-the-correct-kepsek",
      "title": "Provide basic admin-managed setup to register/manage Kepsek profiles and their associated schools (school name, region, principal name, active status) so the system can compute “active schools” and associate submissions with the correct Kepsek.",
      "reqIds": [
        "REQ-8"
      ],
      "version": 1
    },
    {
      "id": "feature-add-a-frontend-static-asset-for-the-app-brand-logo-and-wire-it-into-the-header-login-dashboard-layouts-from-local-static-assets-not-served-via-backend",
      "title": "Add a frontend static asset for the app brand (logo) and wire it into the header/login/dashboard layouts from local static assets (not served via backend).",
      "reqIds": [
        "REQ-9"
      ],
      "version": 1
    },
    {
      "id": "feature-improve-the-frontend-error-handling-on-the-kepsek-profile-setup-screen-so-that-when-saveschool-fails-due-to-authorization-the-ui-shows-an-actionable-error-message-e-g-instruct-the-user-to-ask-an-admin-to-assign-the-kepsek-user-role-instead-of-only-surfacing-the-raw-backend-trap-string",
      "title": "Improve the frontend error handling on the Kepsek Profile Setup screen so that when saveSchool fails due to authorization, the UI shows an actionable error message (e.g., instruct the user to ask an admin to assign the Kepsek/user role) instead of only surfacing the raw backend trap string.",
      "reqIds": [
        "REQ-11"
      ],
      "version": 1
    },
    {
      "id": "feature-add-a-react-query-hook-to-fetch-the-active-schools-list-from-the-backend-and-cache-it-under-a-stable-query-key-with-loading-and-error-states-exposed-to-the-ui",
      "title": "Add a React Query hook to fetch the active schools list from the backend and cache it under a stable query key, with loading and error states exposed to the UI.",
      "reqIds": [
        "REQ-13"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-admin-ui-to-display-a-dedicated-active-schools-section-showing-a-table-list-of-all-active-schools-with-school-name-region-principal-name-and-principal-id-including-a-client-side-search-filter-by-school-name-region-principal-name-and-a-count-of-results",
      "title": "Update the Admin UI to display a dedicated \"Active Schools\" section showing a table/list of all active schools with: School Name, Region, Principal Name, and Principal ID, including a client-side search filter (by school name/region/principal name) and a count of results.",
      "reqIds": [
        "REQ-14"
      ],
      "version": 1
    }
  ],
  "new_feature_requests": [
    {
      "id": "AR-1",
      "summary": "Implement role-based access with two dashboards: Direktur/Manajemen (admin) and Kepala Sekolah (Kepsek)",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-2",
      "summary": "Admin dashboard: summary stats (active schools, Kepsek submissions today) and monitoring table with daily scores + ranking",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-3",
      "summary": "Admin analytics: performance charts (line trend across days; pie/bar aggregate for kontrol guru, kontrol kelas, program berjalan)",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-4",
      "summary": "Admin detail view to inspect individual Kepsek daily reports",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-5",
      "summary": "Kepsek dashboard: profile section (school name, region, principal name)",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-6",
      "summary": "Daily form for Kepsek: attendance with photo upload + arrival/departure times; reports for kontrol kelas, kontrol guru, wali santri responses, program + problem solving",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-7",
      "summary": "Automatic scoring system: total max 100 points, 20 points each for attendance+photo, kontrol kelas, kontrol guru, wali santri response, program & problem solving; computed on submission",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-8",
      "summary": "UI/UX: clean, professional, mobile-friendly; performance indicators with contrasting colors (green high score, red not submitted)",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-10",
      "summary": "Create backend data models and persistence for: (1) Kepsek profile (school name, school region, principal name, active status), (2) daily performance reports keyed by Kepsek + date, and (3) attendance photo storage associated with a daily report.",
      "reqIds": [
        "REQ-2"
      ],
      "status": "pending"
    },
    {
      "id": "AR-12",
      "summary": "Implement the automatic scoring system (max 100 points) calculated on every daily form submission with fixed weights: Attendance + Photo = 20, Class Control = 20, Teacher Control = 20, Wali Santri Response = 20, Program & Problem Solving = 20. Store the resulting total score and component scores with each daily report.",
      "reqIds": [
        "REQ-4"
      ],
      "status": "pending"
    },
    {
      "id": "AR-13",
      "summary": "Update the backend authorization rules for saving a school profile so that a Kepsek (role #user) can save their own School record, while keeping admins able to save as well. The current behavior traps with \"Unauthorized: Only admins can save schools\" when a Kepsek submits the Profile Setup form.",
      "reqIds": [
        "REQ-10"
      ],
      "status": "pending"
    },
    {
      "id": "AR-14",
      "summary": "Admin: tampilkan daftar sekolah yang sudah aktif (active schools list)",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-15",
      "summary": "Add an admin-only backend query to return a list of schools filtered to only those with active=true, including enough data to display each school in a UI list (school name, region, principal name, and the Kepsek/Principal ID).",
      "reqIds": [
        "REQ-12"
      ],
      "status": "pending"
    }
  ],
  "gameProjectType": "none",
  "projectName": "SHQ Kepsek Daily Performance Tracker",
  "clarification_mode": "instant",
  "clarification_rounds": 0
}